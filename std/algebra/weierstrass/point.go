package weierstrass

import (
	"fmt"
	"math/big"

	"github.com/consensys/gnark/frontend"
	"github.com/consensys/gnark/std/math/emulated"
)

// New returns a new [Curve] instance over the base field Base and scalar field
// Scalars defined by the curve parameters params. It returns an error if
// initialising the field emulation fails (for example, when the native field is
// too small) or when the curve parameters are incompatible with the fields.
func New[Base, Scalars emulated.FieldParams](api frontend.API, params CurveParams) (*Curve[Base, Scalars], error) {
	ba, err := emulated.NewField[Base](api)
	if err != nil {
		return nil, fmt.Errorf("new base api: %w", err)
	}
	sa, err := emulated.NewField[Scalars](api)
	if err != nil {
		return nil, fmt.Errorf("new scalar api: %w", err)
	}
	Gx := emulated.ValueOf[Base](params.Gx)
	Gy := emulated.ValueOf[Base](params.Gy)
	G3x := emulated.ValueOf[Base](params.Gmx[0])
	G3y := emulated.ValueOf[Base](params.Gmy[0])
	G4x := emulated.ValueOf[Base](params.Gmx[1])
	G4y := emulated.ValueOf[Base](params.Gmy[1])
	G8x := emulated.ValueOf[Base](params.Gmx[2])
	G8y := emulated.ValueOf[Base](params.Gmy[2])
	G16x := emulated.ValueOf[Base](params.Gmx[3])
	G16y := emulated.ValueOf[Base](params.Gmy[3])
	G32x := emulated.ValueOf[Base](params.Gmx[4])
	G32y := emulated.ValueOf[Base](params.Gmy[4])
	G64x := emulated.ValueOf[Base](params.Gmx[5])
	G64y := emulated.ValueOf[Base](params.Gmy[5])
	G128x := emulated.ValueOf[Base](params.Gmx[6])
	G128y := emulated.ValueOf[Base](params.Gmy[6])
	G256x := emulated.ValueOf[Base](params.Gmx[7])
	G256y := emulated.ValueOf[Base](params.Gmy[7])
	G512x := emulated.ValueOf[Base](params.Gmx[8])
	G512y := emulated.ValueOf[Base](params.Gmy[8])
	G1024x := emulated.ValueOf[Base](params.Gmx[9])
	G1024y := emulated.ValueOf[Base](params.Gmy[9])
	G2048x := emulated.ValueOf[Base](params.Gmx[10])
	G2048y := emulated.ValueOf[Base](params.Gmy[10])
	G4096x := emulated.ValueOf[Base](params.Gmx[11])
	G4096y := emulated.ValueOf[Base](params.Gmy[11])
	G8192x := emulated.ValueOf[Base](params.Gmx[12])
	G8192y := emulated.ValueOf[Base](params.Gmy[12])
	G16384x := emulated.ValueOf[Base](params.Gmx[13])
	G16384y := emulated.ValueOf[Base](params.Gmy[13])
	G32768x := emulated.ValueOf[Base](params.Gmx[14])
	G32768y := emulated.ValueOf[Base](params.Gmy[14])
	G65536x := emulated.ValueOf[Base](params.Gmx[15])
	G65536y := emulated.ValueOf[Base](params.Gmy[15])
	G131072x := emulated.ValueOf[Base](params.Gmx[16])
	G131072y := emulated.ValueOf[Base](params.Gmy[16])
	G262144x := emulated.ValueOf[Base](params.Gmx[17])
	G262144y := emulated.ValueOf[Base](params.Gmy[17])
	G524288x := emulated.ValueOf[Base](params.Gmx[18])
	G524288y := emulated.ValueOf[Base](params.Gmy[18])
	G1048576x := emulated.ValueOf[Base](params.Gmx[19])
	G1048576y := emulated.ValueOf[Base](params.Gmy[19])
	G2097152x := emulated.ValueOf[Base](params.Gmx[20])
	G2097152y := emulated.ValueOf[Base](params.Gmy[20])
	G4194304x := emulated.ValueOf[Base](params.Gmx[21])
	G4194304y := emulated.ValueOf[Base](params.Gmy[21])
	G8388608x := emulated.ValueOf[Base](params.Gmx[22])
	G8388608y := emulated.ValueOf[Base](params.Gmy[22])
	G16777216x := emulated.ValueOf[Base](params.Gmx[23])
	G16777216y := emulated.ValueOf[Base](params.Gmy[23])
	G33554432x := emulated.ValueOf[Base](params.Gmx[24])
	G33554432y := emulated.ValueOf[Base](params.Gmy[24])
	G67108864x := emulated.ValueOf[Base](params.Gmx[25])
	G67108864y := emulated.ValueOf[Base](params.Gmy[25])
	G134217728x := emulated.ValueOf[Base](params.Gmx[26])
	G134217728y := emulated.ValueOf[Base](params.Gmy[26])
	G268435456x := emulated.ValueOf[Base](params.Gmx[27])
	G268435456y := emulated.ValueOf[Base](params.Gmy[27])
	G536870912x := emulated.ValueOf[Base](params.Gmx[28])
	G536870912y := emulated.ValueOf[Base](params.Gmy[28])
	G1073741824x := emulated.ValueOf[Base](params.Gmx[29])
	G1073741824y := emulated.ValueOf[Base](params.Gmy[29])
	G2147483648x := emulated.ValueOf[Base](params.Gmx[30])
	G2147483648y := emulated.ValueOf[Base](params.Gmy[30])
	G4294967296x := emulated.ValueOf[Base](params.Gmx[31])
	G4294967296y := emulated.ValueOf[Base](params.Gmy[31])
	G8589934592x := emulated.ValueOf[Base](params.Gmx[32])
	G8589934592y := emulated.ValueOf[Base](params.Gmy[32])
	G17179869184x := emulated.ValueOf[Base](params.Gmx[33])
	G17179869184y := emulated.ValueOf[Base](params.Gmy[33])
	G34359738368x := emulated.ValueOf[Base](params.Gmx[34])
	G34359738368y := emulated.ValueOf[Base](params.Gmy[34])
	G68719476736x := emulated.ValueOf[Base](params.Gmx[35])
	G68719476736y := emulated.ValueOf[Base](params.Gmy[35])
	G137438953472x := emulated.ValueOf[Base](params.Gmx[36])
	G137438953472y := emulated.ValueOf[Base](params.Gmy[36])
	G274877906944x := emulated.ValueOf[Base](params.Gmx[37])
	G274877906944y := emulated.ValueOf[Base](params.Gmy[37])
	G549755813888x := emulated.ValueOf[Base](params.Gmx[38])
	G549755813888y := emulated.ValueOf[Base](params.Gmy[38])
	G1099511627776x := emulated.ValueOf[Base](params.Gmx[39])
	G1099511627776y := emulated.ValueOf[Base](params.Gmy[39])
	G2199023255552x := emulated.ValueOf[Base](params.Gmx[40])
	G2199023255552y := emulated.ValueOf[Base](params.Gmy[40])
	G4398046511104x := emulated.ValueOf[Base](params.Gmx[41])
	G4398046511104y := emulated.ValueOf[Base](params.Gmy[41])
	G8796093022208x := emulated.ValueOf[Base](params.Gmx[42])
	G8796093022208y := emulated.ValueOf[Base](params.Gmy[42])
	G17592186044416x := emulated.ValueOf[Base](params.Gmx[43])
	G17592186044416y := emulated.ValueOf[Base](params.Gmy[43])
	G35184372088832x := emulated.ValueOf[Base](params.Gmx[44])
	G35184372088832y := emulated.ValueOf[Base](params.Gmy[44])
	G70368744177664x := emulated.ValueOf[Base](params.Gmx[45])
	G70368744177664y := emulated.ValueOf[Base](params.Gmy[45])
	G140737488355328x := emulated.ValueOf[Base](params.Gmx[46])
	G140737488355328y := emulated.ValueOf[Base](params.Gmy[46])
	G281474976710656x := emulated.ValueOf[Base](params.Gmx[47])
	G281474976710656y := emulated.ValueOf[Base](params.Gmy[47])
	G562949953421312x := emulated.ValueOf[Base](params.Gmx[48])
	G562949953421312y := emulated.ValueOf[Base](params.Gmy[48])
	G1125899906842624x := emulated.ValueOf[Base](params.Gmx[49])
	G1125899906842624y := emulated.ValueOf[Base](params.Gmy[49])
	G2251799813685248x := emulated.ValueOf[Base](params.Gmx[50])
	G2251799813685248y := emulated.ValueOf[Base](params.Gmy[50])
	G4503599627370496x := emulated.ValueOf[Base](params.Gmx[51])
	G4503599627370496y := emulated.ValueOf[Base](params.Gmy[51])
	G9007199254740992x := emulated.ValueOf[Base](params.Gmx[52])
	G9007199254740992y := emulated.ValueOf[Base](params.Gmy[52])
	G18014398509481984x := emulated.ValueOf[Base](params.Gmx[53])
	G18014398509481984y := emulated.ValueOf[Base](params.Gmy[53])
	G36028797018963968x := emulated.ValueOf[Base](params.Gmx[54])
	G36028797018963968y := emulated.ValueOf[Base](params.Gmy[54])
	G72057594037927936x := emulated.ValueOf[Base](params.Gmx[55])
	G72057594037927936y := emulated.ValueOf[Base](params.Gmy[55])
	G144115188075855872x := emulated.ValueOf[Base](params.Gmx[56])
	G144115188075855872y := emulated.ValueOf[Base](params.Gmy[56])
	G288230376151711744x := emulated.ValueOf[Base](params.Gmx[57])
	G288230376151711744y := emulated.ValueOf[Base](params.Gmy[57])
	G576460752303423488x := emulated.ValueOf[Base](params.Gmx[58])
	G576460752303423488y := emulated.ValueOf[Base](params.Gmy[58])
	G1152921504606846976x := emulated.ValueOf[Base](params.Gmx[59])
	G1152921504606846976y := emulated.ValueOf[Base](params.Gmy[59])
	G2305843009213693952x := emulated.ValueOf[Base](params.Gmx[60])
	G2305843009213693952y := emulated.ValueOf[Base](params.Gmy[60])
	G4611686018427387904x := emulated.ValueOf[Base](params.Gmx[61])
	G4611686018427387904y := emulated.ValueOf[Base](params.Gmy[61])
	G9223372036854775808x := emulated.ValueOf[Base](params.Gmx[62])
	G9223372036854775808y := emulated.ValueOf[Base](params.Gmy[62])
	G18446744073709551616x := emulated.ValueOf[Base](params.Gmx[63])
	G18446744073709551616y := emulated.ValueOf[Base](params.Gmy[63])
	G36893488147419103232x := emulated.ValueOf[Base](params.Gmx[64])
	G36893488147419103232y := emulated.ValueOf[Base](params.Gmy[64])
	G73786976294838206464x := emulated.ValueOf[Base](params.Gmx[65])
	G73786976294838206464y := emulated.ValueOf[Base](params.Gmy[65])
	G147573952589676412928x := emulated.ValueOf[Base](params.Gmx[66])
	G147573952589676412928y := emulated.ValueOf[Base](params.Gmy[66])
	G295147905179352825856x := emulated.ValueOf[Base](params.Gmx[67])
	G295147905179352825856y := emulated.ValueOf[Base](params.Gmy[67])
	G590295810358705651712x := emulated.ValueOf[Base](params.Gmx[68])
	G590295810358705651712y := emulated.ValueOf[Base](params.Gmy[68])
	G1180591620717411303424x := emulated.ValueOf[Base](params.Gmx[69])
	G1180591620717411303424y := emulated.ValueOf[Base](params.Gmy[69])
	G2361183241434822606848x := emulated.ValueOf[Base](params.Gmx[70])
	G2361183241434822606848y := emulated.ValueOf[Base](params.Gmy[70])
	G4722366482869645213696x := emulated.ValueOf[Base](params.Gmx[71])
	G4722366482869645213696y := emulated.ValueOf[Base](params.Gmy[71])
	G9444732965739290427392x := emulated.ValueOf[Base](params.Gmx[72])
	G9444732965739290427392y := emulated.ValueOf[Base](params.Gmy[72])
	G18889465931478580854784x := emulated.ValueOf[Base](params.Gmx[73])
	G18889465931478580854784y := emulated.ValueOf[Base](params.Gmy[73])
	G37778931862957161709568x := emulated.ValueOf[Base](params.Gmx[74])
	G37778931862957161709568y := emulated.ValueOf[Base](params.Gmy[74])
	G75557863725914323419136x := emulated.ValueOf[Base](params.Gmx[75])
	G75557863725914323419136y := emulated.ValueOf[Base](params.Gmy[75])
	G151115727451828646838272x := emulated.ValueOf[Base](params.Gmx[76])
	G151115727451828646838272y := emulated.ValueOf[Base](params.Gmy[76])
	G302231454903657293676544x := emulated.ValueOf[Base](params.Gmx[77])
	G302231454903657293676544y := emulated.ValueOf[Base](params.Gmy[77])
	G604462909807314587353088x := emulated.ValueOf[Base](params.Gmx[78])
	G604462909807314587353088y := emulated.ValueOf[Base](params.Gmy[78])
	G1208925819614629174706176x := emulated.ValueOf[Base](params.Gmx[79])
	G1208925819614629174706176y := emulated.ValueOf[Base](params.Gmy[79])
	G2417851639229258349412352x := emulated.ValueOf[Base](params.Gmx[80])
	G2417851639229258349412352y := emulated.ValueOf[Base](params.Gmy[80])
	G4835703278458516698824704x := emulated.ValueOf[Base](params.Gmx[81])
	G4835703278458516698824704y := emulated.ValueOf[Base](params.Gmy[81])
	G9671406556917033397649408x := emulated.ValueOf[Base](params.Gmx[82])
	G9671406556917033397649408y := emulated.ValueOf[Base](params.Gmy[82])
	G19342813113834066795298816x := emulated.ValueOf[Base](params.Gmx[83])
	G19342813113834066795298816y := emulated.ValueOf[Base](params.Gmy[83])
	G38685626227668133590597632x := emulated.ValueOf[Base](params.Gmx[84])
	G38685626227668133590597632y := emulated.ValueOf[Base](params.Gmy[84])
	G77371252455336267181195264x := emulated.ValueOf[Base](params.Gmx[85])
	G77371252455336267181195264y := emulated.ValueOf[Base](params.Gmy[85])
	G154742504910672534362390528x := emulated.ValueOf[Base](params.Gmx[86])
	G154742504910672534362390528y := emulated.ValueOf[Base](params.Gmy[86])
	G309485009821345068724781056x := emulated.ValueOf[Base](params.Gmx[87])
	G309485009821345068724781056y := emulated.ValueOf[Base](params.Gmy[87])
	G618970019642690137449562112x := emulated.ValueOf[Base](params.Gmx[88])
	G618970019642690137449562112y := emulated.ValueOf[Base](params.Gmy[88])
	G1237940039285380274899124224x := emulated.ValueOf[Base](params.Gmx[89])
	G1237940039285380274899124224y := emulated.ValueOf[Base](params.Gmy[89])
	G2475880078570760549798248448x := emulated.ValueOf[Base](params.Gmx[90])
	G2475880078570760549798248448y := emulated.ValueOf[Base](params.Gmy[90])
	G4951760157141521099596496896x := emulated.ValueOf[Base](params.Gmx[91])
	G4951760157141521099596496896y := emulated.ValueOf[Base](params.Gmy[91])
	G9903520314283042199192993792x := emulated.ValueOf[Base](params.Gmx[92])
	G9903520314283042199192993792y := emulated.ValueOf[Base](params.Gmy[92])
	G19807040628566084398385987584x := emulated.ValueOf[Base](params.Gmx[93])
	G19807040628566084398385987584y := emulated.ValueOf[Base](params.Gmy[93])
	G39614081257132168796771975168x := emulated.ValueOf[Base](params.Gmx[94])
	G39614081257132168796771975168y := emulated.ValueOf[Base](params.Gmy[94])
	G79228162514264337593543950336x := emulated.ValueOf[Base](params.Gmx[95])
	G79228162514264337593543950336y := emulated.ValueOf[Base](params.Gmy[95])
	G158456325028528675187087900672x := emulated.ValueOf[Base](params.Gmx[96])
	G158456325028528675187087900672y := emulated.ValueOf[Base](params.Gmy[96])
	G316912650057057350374175801344x := emulated.ValueOf[Base](params.Gmx[97])
	G316912650057057350374175801344y := emulated.ValueOf[Base](params.Gmy[97])
	G633825300114114700748351602688x := emulated.ValueOf[Base](params.Gmx[98])
	G633825300114114700748351602688y := emulated.ValueOf[Base](params.Gmy[98])
	G1267650600228229401496703205376x := emulated.ValueOf[Base](params.Gmx[99])
	G1267650600228229401496703205376y := emulated.ValueOf[Base](params.Gmy[99])
	G2535301200456458802993406410752x := emulated.ValueOf[Base](params.Gmx[100])
	G2535301200456458802993406410752y := emulated.ValueOf[Base](params.Gmy[100])
	G5070602400912917605986812821504x := emulated.ValueOf[Base](params.Gmx[101])
	G5070602400912917605986812821504y := emulated.ValueOf[Base](params.Gmy[101])
	G10141204801825835211973625643008x := emulated.ValueOf[Base](params.Gmx[102])
	G10141204801825835211973625643008y := emulated.ValueOf[Base](params.Gmy[102])
	G20282409603651670423947251286016x := emulated.ValueOf[Base](params.Gmx[103])
	G20282409603651670423947251286016y := emulated.ValueOf[Base](params.Gmy[103])
	G40564819207303340847894502572032x := emulated.ValueOf[Base](params.Gmx[104])
	G40564819207303340847894502572032y := emulated.ValueOf[Base](params.Gmy[104])
	G81129638414606681695789005144064x := emulated.ValueOf[Base](params.Gmx[105])
	G81129638414606681695789005144064y := emulated.ValueOf[Base](params.Gmy[105])
	G162259276829213363391578010288128x := emulated.ValueOf[Base](params.Gmx[106])
	G162259276829213363391578010288128y := emulated.ValueOf[Base](params.Gmy[106])
	G324518553658426726783156020576256x := emulated.ValueOf[Base](params.Gmx[107])
	G324518553658426726783156020576256y := emulated.ValueOf[Base](params.Gmy[107])
	G649037107316853453566312041152512x := emulated.ValueOf[Base](params.Gmx[108])
	G649037107316853453566312041152512y := emulated.ValueOf[Base](params.Gmy[108])
	G1298074214633706907132624082305024x := emulated.ValueOf[Base](params.Gmx[109])
	G1298074214633706907132624082305024y := emulated.ValueOf[Base](params.Gmy[109])
	G2596148429267413814265248164610048x := emulated.ValueOf[Base](params.Gmx[110])
	G2596148429267413814265248164610048y := emulated.ValueOf[Base](params.Gmy[110])
	G5192296858534827628530496329220096x := emulated.ValueOf[Base](params.Gmx[111])
	G5192296858534827628530496329220096y := emulated.ValueOf[Base](params.Gmy[111])
	G10384593717069655257060992658440192x := emulated.ValueOf[Base](params.Gmx[112])
	G10384593717069655257060992658440192y := emulated.ValueOf[Base](params.Gmy[112])
	G20769187434139310514121985316880384x := emulated.ValueOf[Base](params.Gmx[113])
	G20769187434139310514121985316880384y := emulated.ValueOf[Base](params.Gmy[113])
	G41538374868278621028243970633760768x := emulated.ValueOf[Base](params.Gmx[114])
	G41538374868278621028243970633760768y := emulated.ValueOf[Base](params.Gmy[114])
	G83076749736557242056487941267521536x := emulated.ValueOf[Base](params.Gmx[115])
	G83076749736557242056487941267521536y := emulated.ValueOf[Base](params.Gmy[115])
	G166153499473114484112975882535043072x := emulated.ValueOf[Base](params.Gmx[116])
	G166153499473114484112975882535043072y := emulated.ValueOf[Base](params.Gmy[116])
	G332306998946228968225951765070086144x := emulated.ValueOf[Base](params.Gmx[117])
	G332306998946228968225951765070086144y := emulated.ValueOf[Base](params.Gmy[117])
	G664613997892457936451903530140172288x := emulated.ValueOf[Base](params.Gmx[118])
	G664613997892457936451903530140172288y := emulated.ValueOf[Base](params.Gmy[118])
	G1329227995784915872903807060280344576x := emulated.ValueOf[Base](params.Gmx[119])
	G1329227995784915872903807060280344576y := emulated.ValueOf[Base](params.Gmy[119])
	G2658455991569831745807614120560689152x := emulated.ValueOf[Base](params.Gmx[120])
	G2658455991569831745807614120560689152y := emulated.ValueOf[Base](params.Gmy[120])
	G5316911983139663491615228241121378304x := emulated.ValueOf[Base](params.Gmx[121])
	G5316911983139663491615228241121378304y := emulated.ValueOf[Base](params.Gmy[121])
	G10633823966279326983230456482242756608x := emulated.ValueOf[Base](params.Gmx[122])
	G10633823966279326983230456482242756608y := emulated.ValueOf[Base](params.Gmy[122])
	G21267647932558653966460912964485513216x := emulated.ValueOf[Base](params.Gmx[123])
	G21267647932558653966460912964485513216y := emulated.ValueOf[Base](params.Gmy[123])
	G42535295865117307932921825928971026432x := emulated.ValueOf[Base](params.Gmx[124])
	G42535295865117307932921825928971026432y := emulated.ValueOf[Base](params.Gmy[124])
	G85070591730234615865843651857942052864x := emulated.ValueOf[Base](params.Gmx[125])
	G85070591730234615865843651857942052864y := emulated.ValueOf[Base](params.Gmy[125])
	G170141183460469231731687303715884105728x := emulated.ValueOf[Base](params.Gmx[126])
	G170141183460469231731687303715884105728y := emulated.ValueOf[Base](params.Gmy[126])
	G340282366920938463463374607431768211456x := emulated.ValueOf[Base](params.Gmx[127])
	G340282366920938463463374607431768211456y := emulated.ValueOf[Base](params.Gmy[127])
	G680564733841876926926749214863536422912x := emulated.ValueOf[Base](params.Gmx[128])
	G680564733841876926926749214863536422912y := emulated.ValueOf[Base](params.Gmy[128])
	G1361129467683753853853498429727072845824x := emulated.ValueOf[Base](params.Gmx[129])
	G1361129467683753853853498429727072845824y := emulated.ValueOf[Base](params.Gmy[129])
	G2722258935367507707706996859454145691648x := emulated.ValueOf[Base](params.Gmx[130])
	G2722258935367507707706996859454145691648y := emulated.ValueOf[Base](params.Gmy[130])
	G5444517870735015415413993718908291383296x := emulated.ValueOf[Base](params.Gmx[131])
	G5444517870735015415413993718908291383296y := emulated.ValueOf[Base](params.Gmy[131])
	G10889035741470030830827987437816582766592x := emulated.ValueOf[Base](params.Gmx[132])
	G10889035741470030830827987437816582766592y := emulated.ValueOf[Base](params.Gmy[132])
	G21778071482940061661655974875633165533184x := emulated.ValueOf[Base](params.Gmx[133])
	G21778071482940061661655974875633165533184y := emulated.ValueOf[Base](params.Gmy[133])
	G43556142965880123323311949751266331066368x := emulated.ValueOf[Base](params.Gmx[134])
	G43556142965880123323311949751266331066368y := emulated.ValueOf[Base](params.Gmy[134])
	G87112285931760246646623899502532662132736x := emulated.ValueOf[Base](params.Gmx[135])
	G87112285931760246646623899502532662132736y := emulated.ValueOf[Base](params.Gmy[135])
	G174224571863520493293247799005065324265472x := emulated.ValueOf[Base](params.Gmx[136])
	G174224571863520493293247799005065324265472y := emulated.ValueOf[Base](params.Gmy[136])
	G348449143727040986586495598010130648530944x := emulated.ValueOf[Base](params.Gmx[137])
	G348449143727040986586495598010130648530944y := emulated.ValueOf[Base](params.Gmy[137])
	G696898287454081973172991196020261297061888x := emulated.ValueOf[Base](params.Gmx[138])
	G696898287454081973172991196020261297061888y := emulated.ValueOf[Base](params.Gmy[138])
	G1393796574908163946345982392040522594123776x := emulated.ValueOf[Base](params.Gmx[139])
	G1393796574908163946345982392040522594123776y := emulated.ValueOf[Base](params.Gmy[139])
	G2787593149816327892691964784081045188247552x := emulated.ValueOf[Base](params.Gmx[140])
	G2787593149816327892691964784081045188247552y := emulated.ValueOf[Base](params.Gmy[140])
	G5575186299632655785383929568162090376495104x := emulated.ValueOf[Base](params.Gmx[141])
	G5575186299632655785383929568162090376495104y := emulated.ValueOf[Base](params.Gmy[141])
	G11150372599265311570767859136324180752990208x := emulated.ValueOf[Base](params.Gmx[142])
	G11150372599265311570767859136324180752990208y := emulated.ValueOf[Base](params.Gmy[142])
	G22300745198530623141535718272648361505980416x := emulated.ValueOf[Base](params.Gmx[143])
	G22300745198530623141535718272648361505980416y := emulated.ValueOf[Base](params.Gmy[143])
	G44601490397061246283071436545296723011960832x := emulated.ValueOf[Base](params.Gmx[144])
	G44601490397061246283071436545296723011960832y := emulated.ValueOf[Base](params.Gmy[144])
	G89202980794122492566142873090593446023921664x := emulated.ValueOf[Base](params.Gmx[145])
	G89202980794122492566142873090593446023921664y := emulated.ValueOf[Base](params.Gmy[145])
	G178405961588244985132285746181186892047843328x := emulated.ValueOf[Base](params.Gmx[146])
	G178405961588244985132285746181186892047843328y := emulated.ValueOf[Base](params.Gmy[146])
	G356811923176489970264571492362373784095686656x := emulated.ValueOf[Base](params.Gmx[147])
	G356811923176489970264571492362373784095686656y := emulated.ValueOf[Base](params.Gmy[147])
	G713623846352979940529142984724747568191373312x := emulated.ValueOf[Base](params.Gmx[148])
	G713623846352979940529142984724747568191373312y := emulated.ValueOf[Base](params.Gmy[148])
	G1427247692705959881058285969449495136382746624x := emulated.ValueOf[Base](params.Gmx[149])
	G1427247692705959881058285969449495136382746624y := emulated.ValueOf[Base](params.Gmy[149])
	G2854495385411919762116571938898990272765493248x := emulated.ValueOf[Base](params.Gmx[150])
	G2854495385411919762116571938898990272765493248y := emulated.ValueOf[Base](params.Gmy[150])
	G5708990770823839524233143877797980545530986496x := emulated.ValueOf[Base](params.Gmx[151])
	G5708990770823839524233143877797980545530986496y := emulated.ValueOf[Base](params.Gmy[151])
	G11417981541647679048466287755595961091061972992x := emulated.ValueOf[Base](params.Gmx[152])
	G11417981541647679048466287755595961091061972992y := emulated.ValueOf[Base](params.Gmy[152])
	G22835963083295358096932575511191922182123945984x := emulated.ValueOf[Base](params.Gmx[153])
	G22835963083295358096932575511191922182123945984y := emulated.ValueOf[Base](params.Gmy[153])
	G45671926166590716193865151022383844364247891968x := emulated.ValueOf[Base](params.Gmx[154])
	G45671926166590716193865151022383844364247891968y := emulated.ValueOf[Base](params.Gmy[154])
	G91343852333181432387730302044767688728495783936x := emulated.ValueOf[Base](params.Gmx[155])
	G91343852333181432387730302044767688728495783936y := emulated.ValueOf[Base](params.Gmy[155])
	G182687704666362864775460604089535377456991567872x := emulated.ValueOf[Base](params.Gmx[156])
	G182687704666362864775460604089535377456991567872y := emulated.ValueOf[Base](params.Gmy[156])
	G365375409332725729550921208179070754913983135744x := emulated.ValueOf[Base](params.Gmx[157])
	G365375409332725729550921208179070754913983135744y := emulated.ValueOf[Base](params.Gmy[157])
	G730750818665451459101842416358141509827966271488x := emulated.ValueOf[Base](params.Gmx[158])
	G730750818665451459101842416358141509827966271488y := emulated.ValueOf[Base](params.Gmy[158])
	G1461501637330902918203684832716283019655932542976x := emulated.ValueOf[Base](params.Gmx[159])
	G1461501637330902918203684832716283019655932542976y := emulated.ValueOf[Base](params.Gmy[159])
	G2923003274661805836407369665432566039311865085952x := emulated.ValueOf[Base](params.Gmx[160])
	G2923003274661805836407369665432566039311865085952y := emulated.ValueOf[Base](params.Gmy[160])
	G5846006549323611672814739330865132078623730171904x := emulated.ValueOf[Base](params.Gmx[161])
	G5846006549323611672814739330865132078623730171904y := emulated.ValueOf[Base](params.Gmy[161])
	G11692013098647223345629478661730264157247460343808x := emulated.ValueOf[Base](params.Gmx[162])
	G11692013098647223345629478661730264157247460343808y := emulated.ValueOf[Base](params.Gmy[162])
	G23384026197294446691258957323460528314494920687616x := emulated.ValueOf[Base](params.Gmx[163])
	G23384026197294446691258957323460528314494920687616y := emulated.ValueOf[Base](params.Gmy[163])
	G46768052394588893382517914646921056628989841375232x := emulated.ValueOf[Base](params.Gmx[164])
	G46768052394588893382517914646921056628989841375232y := emulated.ValueOf[Base](params.Gmy[164])
	G93536104789177786765035829293842113257979682750464x := emulated.ValueOf[Base](params.Gmx[165])
	G93536104789177786765035829293842113257979682750464y := emulated.ValueOf[Base](params.Gmy[165])
	G187072209578355573530071658587684226515959365500928x := emulated.ValueOf[Base](params.Gmx[166])
	G187072209578355573530071658587684226515959365500928y := emulated.ValueOf[Base](params.Gmy[166])
	G374144419156711147060143317175368453031918731001856x := emulated.ValueOf[Base](params.Gmx[167])
	G374144419156711147060143317175368453031918731001856y := emulated.ValueOf[Base](params.Gmy[167])
	G748288838313422294120286634350736906063837462003712x := emulated.ValueOf[Base](params.Gmx[168])
	G748288838313422294120286634350736906063837462003712y := emulated.ValueOf[Base](params.Gmy[168])
	G1496577676626844588240573268701473812127674924007424x := emulated.ValueOf[Base](params.Gmx[169])
	G1496577676626844588240573268701473812127674924007424y := emulated.ValueOf[Base](params.Gmy[169])
	G2993155353253689176481146537402947624255349848014848x := emulated.ValueOf[Base](params.Gmx[170])
	G2993155353253689176481146537402947624255349848014848y := emulated.ValueOf[Base](params.Gmy[170])
	G5986310706507378352962293074805895248510699696029696x := emulated.ValueOf[Base](params.Gmx[171])
	G5986310706507378352962293074805895248510699696029696y := emulated.ValueOf[Base](params.Gmy[171])
	G11972621413014756705924586149611790497021399392059392x := emulated.ValueOf[Base](params.Gmx[172])
	G11972621413014756705924586149611790497021399392059392y := emulated.ValueOf[Base](params.Gmy[172])
	G23945242826029513411849172299223580994042798784118784x := emulated.ValueOf[Base](params.Gmx[173])
	G23945242826029513411849172299223580994042798784118784y := emulated.ValueOf[Base](params.Gmy[173])
	G47890485652059026823698344598447161988085597568237568x := emulated.ValueOf[Base](params.Gmx[174])
	G47890485652059026823698344598447161988085597568237568y := emulated.ValueOf[Base](params.Gmy[174])
	G95780971304118053647396689196894323976171195136475136x := emulated.ValueOf[Base](params.Gmx[175])
	G95780971304118053647396689196894323976171195136475136y := emulated.ValueOf[Base](params.Gmy[175])
	G191561942608236107294793378393788647952342390272950272x := emulated.ValueOf[Base](params.Gmx[176])
	G191561942608236107294793378393788647952342390272950272y := emulated.ValueOf[Base](params.Gmy[176])
	G383123885216472214589586756787577295904684780545900544x := emulated.ValueOf[Base](params.Gmx[177])
	G383123885216472214589586756787577295904684780545900544y := emulated.ValueOf[Base](params.Gmy[177])
	G766247770432944429179173513575154591809369561091801088x := emulated.ValueOf[Base](params.Gmx[178])
	G766247770432944429179173513575154591809369561091801088y := emulated.ValueOf[Base](params.Gmy[178])
	G1532495540865888858358347027150309183618739122183602176x := emulated.ValueOf[Base](params.Gmx[179])
	G1532495540865888858358347027150309183618739122183602176y := emulated.ValueOf[Base](params.Gmy[179])
	G3064991081731777716716694054300618367237478244367204352x := emulated.ValueOf[Base](params.Gmx[180])
	G3064991081731777716716694054300618367237478244367204352y := emulated.ValueOf[Base](params.Gmy[180])
	G6129982163463555433433388108601236734474956488734408704x := emulated.ValueOf[Base](params.Gmx[181])
	G6129982163463555433433388108601236734474956488734408704y := emulated.ValueOf[Base](params.Gmy[181])
	G12259964326927110866866776217202473468949912977468817408x := emulated.ValueOf[Base](params.Gmx[182])
	G12259964326927110866866776217202473468949912977468817408y := emulated.ValueOf[Base](params.Gmy[182])
	G24519928653854221733733552434404946937899825954937634816x := emulated.ValueOf[Base](params.Gmx[183])
	G24519928653854221733733552434404946937899825954937634816y := emulated.ValueOf[Base](params.Gmy[183])
	G49039857307708443467467104868809893875799651909875269632x := emulated.ValueOf[Base](params.Gmx[184])
	G49039857307708443467467104868809893875799651909875269632y := emulated.ValueOf[Base](params.Gmy[184])
	G98079714615416886934934209737619787751599303819750539264x := emulated.ValueOf[Base](params.Gmx[185])
	G98079714615416886934934209737619787751599303819750539264y := emulated.ValueOf[Base](params.Gmy[185])
	G196159429230833773869868419475239575503198607639501078528x := emulated.ValueOf[Base](params.Gmx[186])
	G196159429230833773869868419475239575503198607639501078528y := emulated.ValueOf[Base](params.Gmy[186])
	G392318858461667547739736838950479151006397215279002157056x := emulated.ValueOf[Base](params.Gmx[187])
	G392318858461667547739736838950479151006397215279002157056y := emulated.ValueOf[Base](params.Gmy[187])
	G784637716923335095479473677900958302012794430558004314112x := emulated.ValueOf[Base](params.Gmx[188])
	G784637716923335095479473677900958302012794430558004314112y := emulated.ValueOf[Base](params.Gmy[188])
	G1569275433846670190958947355801916604025588861116008628224x := emulated.ValueOf[Base](params.Gmx[189])
	G1569275433846670190958947355801916604025588861116008628224y := emulated.ValueOf[Base](params.Gmy[189])
	G3138550867693340381917894711603833208051177722232017256448x := emulated.ValueOf[Base](params.Gmx[190])
	G3138550867693340381917894711603833208051177722232017256448y := emulated.ValueOf[Base](params.Gmy[190])
	G6277101735386680763835789423207666416102355444464034512896x := emulated.ValueOf[Base](params.Gmx[191])
	G6277101735386680763835789423207666416102355444464034512896y := emulated.ValueOf[Base](params.Gmy[191])
	G12554203470773361527671578846415332832204710888928069025792x := emulated.ValueOf[Base](params.Gmx[192])
	G12554203470773361527671578846415332832204710888928069025792y := emulated.ValueOf[Base](params.Gmy[192])
	G25108406941546723055343157692830665664409421777856138051584x := emulated.ValueOf[Base](params.Gmx[193])
	G25108406941546723055343157692830665664409421777856138051584y := emulated.ValueOf[Base](params.Gmy[193])
	G50216813883093446110686315385661331328818843555712276103168x := emulated.ValueOf[Base](params.Gmx[194])
	G50216813883093446110686315385661331328818843555712276103168y := emulated.ValueOf[Base](params.Gmy[194])
	G100433627766186892221372630771322662657637687111424552206336x := emulated.ValueOf[Base](params.Gmx[195])
	G100433627766186892221372630771322662657637687111424552206336y := emulated.ValueOf[Base](params.Gmy[195])
	G200867255532373784442745261542645325315275374222849104412672x := emulated.ValueOf[Base](params.Gmx[196])
	G200867255532373784442745261542645325315275374222849104412672y := emulated.ValueOf[Base](params.Gmy[196])
	G401734511064747568885490523085290650630550748445698208825344x := emulated.ValueOf[Base](params.Gmx[197])
	G401734511064747568885490523085290650630550748445698208825344y := emulated.ValueOf[Base](params.Gmy[197])
	G803469022129495137770981046170581301261101496891396417650688x := emulated.ValueOf[Base](params.Gmx[198])
	G803469022129495137770981046170581301261101496891396417650688y := emulated.ValueOf[Base](params.Gmy[198])
	G1606938044258990275541962092341162602522202993782792835301376x := emulated.ValueOf[Base](params.Gmx[199])
	G1606938044258990275541962092341162602522202993782792835301376y := emulated.ValueOf[Base](params.Gmy[199])
	G3213876088517980551083924184682325205044405987565585670602752x := emulated.ValueOf[Base](params.Gmx[200])
	G3213876088517980551083924184682325205044405987565585670602752y := emulated.ValueOf[Base](params.Gmy[200])
	G6427752177035961102167848369364650410088811975131171341205504x := emulated.ValueOf[Base](params.Gmx[201])
	G6427752177035961102167848369364650410088811975131171341205504y := emulated.ValueOf[Base](params.Gmy[201])
	G12855504354071922204335696738729300820177623950262342682411008x := emulated.ValueOf[Base](params.Gmx[202])
	G12855504354071922204335696738729300820177623950262342682411008y := emulated.ValueOf[Base](params.Gmy[202])
	G25711008708143844408671393477458601640355247900524685364822016x := emulated.ValueOf[Base](params.Gmx[203])
	G25711008708143844408671393477458601640355247900524685364822016y := emulated.ValueOf[Base](params.Gmy[203])
	G51422017416287688817342786954917203280710495801049370729644032x := emulated.ValueOf[Base](params.Gmx[204])
	G51422017416287688817342786954917203280710495801049370729644032y := emulated.ValueOf[Base](params.Gmy[204])
	G102844034832575377634685573909834406561420991602098741459288064x := emulated.ValueOf[Base](params.Gmx[205])
	G102844034832575377634685573909834406561420991602098741459288064y := emulated.ValueOf[Base](params.Gmy[205])
	G205688069665150755269371147819668813122841983204197482918576128x := emulated.ValueOf[Base](params.Gmx[206])
	G205688069665150755269371147819668813122841983204197482918576128y := emulated.ValueOf[Base](params.Gmy[206])
	G411376139330301510538742295639337626245683966408394965837152256x := emulated.ValueOf[Base](params.Gmx[207])
	G411376139330301510538742295639337626245683966408394965837152256y := emulated.ValueOf[Base](params.Gmy[207])
	G822752278660603021077484591278675252491367932816789931674304512x := emulated.ValueOf[Base](params.Gmx[208])
	G822752278660603021077484591278675252491367932816789931674304512y := emulated.ValueOf[Base](params.Gmy[208])
	G1645504557321206042154969182557350504982735865633579863348609024x := emulated.ValueOf[Base](params.Gmx[209])
	G1645504557321206042154969182557350504982735865633579863348609024y := emulated.ValueOf[Base](params.Gmy[209])
	G3291009114642412084309938365114701009965471731267159726697218048x := emulated.ValueOf[Base](params.Gmx[210])
	G3291009114642412084309938365114701009965471731267159726697218048y := emulated.ValueOf[Base](params.Gmy[210])
	G6582018229284824168619876730229402019930943462534319453394436096x := emulated.ValueOf[Base](params.Gmx[211])
	G6582018229284824168619876730229402019930943462534319453394436096y := emulated.ValueOf[Base](params.Gmy[211])
	G13164036458569648337239753460458804039861886925068638906788872192x := emulated.ValueOf[Base](params.Gmx[212])
	G13164036458569648337239753460458804039861886925068638906788872192y := emulated.ValueOf[Base](params.Gmy[212])
	G26328072917139296674479506920917608079723773850137277813577744384x := emulated.ValueOf[Base](params.Gmx[213])
	G26328072917139296674479506920917608079723773850137277813577744384y := emulated.ValueOf[Base](params.Gmy[213])
	G52656145834278593348959013841835216159447547700274555627155488768x := emulated.ValueOf[Base](params.Gmx[214])
	G52656145834278593348959013841835216159447547700274555627155488768y := emulated.ValueOf[Base](params.Gmy[214])
	G105312291668557186697918027683670432318895095400549111254310977536x := emulated.ValueOf[Base](params.Gmx[215])
	G105312291668557186697918027683670432318895095400549111254310977536y := emulated.ValueOf[Base](params.Gmy[215])
	G210624583337114373395836055367340864637790190801098222508621955072x := emulated.ValueOf[Base](params.Gmx[216])
	G210624583337114373395836055367340864637790190801098222508621955072y := emulated.ValueOf[Base](params.Gmy[216])
	G421249166674228746791672110734681729275580381602196445017243910144x := emulated.ValueOf[Base](params.Gmx[217])
	G421249166674228746791672110734681729275580381602196445017243910144y := emulated.ValueOf[Base](params.Gmy[217])
	G842498333348457493583344221469363458551160763204392890034487820288x := emulated.ValueOf[Base](params.Gmx[218])
	G842498333348457493583344221469363458551160763204392890034487820288y := emulated.ValueOf[Base](params.Gmy[218])
	G1684996666696914987166688442938726917102321526408785780068975640576x := emulated.ValueOf[Base](params.Gmx[219])
	G1684996666696914987166688442938726917102321526408785780068975640576y := emulated.ValueOf[Base](params.Gmy[219])
	G3369993333393829974333376885877453834204643052817571560137951281152x := emulated.ValueOf[Base](params.Gmx[220])
	G3369993333393829974333376885877453834204643052817571560137951281152y := emulated.ValueOf[Base](params.Gmy[220])
	G6739986666787659948666753771754907668409286105635143120275902562304x := emulated.ValueOf[Base](params.Gmx[221])
	G6739986666787659948666753771754907668409286105635143120275902562304y := emulated.ValueOf[Base](params.Gmy[221])
	G13479973333575319897333507543509815336818572211270286240551805124608x := emulated.ValueOf[Base](params.Gmx[222])
	G13479973333575319897333507543509815336818572211270286240551805124608y := emulated.ValueOf[Base](params.Gmy[222])
	G26959946667150639794667015087019630673637144422540572481103610249216x := emulated.ValueOf[Base](params.Gmx[223])
	G26959946667150639794667015087019630673637144422540572481103610249216y := emulated.ValueOf[Base](params.Gmy[223])
	G53919893334301279589334030174039261347274288845081144962207220498432x := emulated.ValueOf[Base](params.Gmx[224])
	G53919893334301279589334030174039261347274288845081144962207220498432y := emulated.ValueOf[Base](params.Gmy[224])
	G107839786668602559178668060348078522694548577690162289924414440996864x := emulated.ValueOf[Base](params.Gmx[225])
	G107839786668602559178668060348078522694548577690162289924414440996864y := emulated.ValueOf[Base](params.Gmy[225])
	G215679573337205118357336120696157045389097155380324579848828881993728x := emulated.ValueOf[Base](params.Gmx[226])
	G215679573337205118357336120696157045389097155380324579848828881993728y := emulated.ValueOf[Base](params.Gmy[226])
	G431359146674410236714672241392314090778194310760649159697657763987456x := emulated.ValueOf[Base](params.Gmx[227])
	G431359146674410236714672241392314090778194310760649159697657763987456y := emulated.ValueOf[Base](params.Gmy[227])
	G862718293348820473429344482784628181556388621521298319395315527974912x := emulated.ValueOf[Base](params.Gmx[228])
	G862718293348820473429344482784628181556388621521298319395315527974912y := emulated.ValueOf[Base](params.Gmy[228])
	G1725436586697640946858688965569256363112777243042596638790631055949824x := emulated.ValueOf[Base](params.Gmx[229])
	G1725436586697640946858688965569256363112777243042596638790631055949824y := emulated.ValueOf[Base](params.Gmy[229])
	G3450873173395281893717377931138512726225554486085193277581262111899648x := emulated.ValueOf[Base](params.Gmx[230])
	G3450873173395281893717377931138512726225554486085193277581262111899648y := emulated.ValueOf[Base](params.Gmy[230])
	G6901746346790563787434755862277025452451108972170386555162524223799296x := emulated.ValueOf[Base](params.Gmx[231])
	G6901746346790563787434755862277025452451108972170386555162524223799296y := emulated.ValueOf[Base](params.Gmy[231])
	G13803492693581127574869511724554050904902217944340773110325048447598592x := emulated.ValueOf[Base](params.Gmx[232])
	G13803492693581127574869511724554050904902217944340773110325048447598592y := emulated.ValueOf[Base](params.Gmy[232])
	G27606985387162255149739023449108101809804435888681546220650096895197184x := emulated.ValueOf[Base](params.Gmx[233])
	G27606985387162255149739023449108101809804435888681546220650096895197184y := emulated.ValueOf[Base](params.Gmy[233])
	G55213970774324510299478046898216203619608871777363092441300193790394368x := emulated.ValueOf[Base](params.Gmx[234])
	G55213970774324510299478046898216203619608871777363092441300193790394368y := emulated.ValueOf[Base](params.Gmy[234])
	G110427941548649020598956093796432407239217743554726184882600387580788736x := emulated.ValueOf[Base](params.Gmx[235])
	G110427941548649020598956093796432407239217743554726184882600387580788736y := emulated.ValueOf[Base](params.Gmy[235])
	G220855883097298041197912187592864814478435487109452369765200775161577472x := emulated.ValueOf[Base](params.Gmx[236])
	G220855883097298041197912187592864814478435487109452369765200775161577472y := emulated.ValueOf[Base](params.Gmy[236])
	G441711766194596082395824375185729628956870974218904739530401550323154944x := emulated.ValueOf[Base](params.Gmx[237])
	G441711766194596082395824375185729628956870974218904739530401550323154944y := emulated.ValueOf[Base](params.Gmy[237])
	G883423532389192164791648750371459257913741948437809479060803100646309888x := emulated.ValueOf[Base](params.Gmx[238])
	G883423532389192164791648750371459257913741948437809479060803100646309888y := emulated.ValueOf[Base](params.Gmy[238])
	G1766847064778384329583297500742918515827483896875618958121606201292619776x := emulated.ValueOf[Base](params.Gmx[239])
	G1766847064778384329583297500742918515827483896875618958121606201292619776y := emulated.ValueOf[Base](params.Gmy[239])
	G3533694129556768659166595001485837031654967793751237916243212402585239552x := emulated.ValueOf[Base](params.Gmx[240])
	G3533694129556768659166595001485837031654967793751237916243212402585239552y := emulated.ValueOf[Base](params.Gmy[240])
	G7067388259113537318333190002971674063309935587502475832486424805170479104x := emulated.ValueOf[Base](params.Gmx[241])
	G7067388259113537318333190002971674063309935587502475832486424805170479104y := emulated.ValueOf[Base](params.Gmy[241])
	G14134776518227074636666380005943348126619871175004951664972849610340958208x := emulated.ValueOf[Base](params.Gmx[242])
	G14134776518227074636666380005943348126619871175004951664972849610340958208y := emulated.ValueOf[Base](params.Gmy[242])
	G28269553036454149273332760011886696253239742350009903329945699220681916416x := emulated.ValueOf[Base](params.Gmx[243])
	G28269553036454149273332760011886696253239742350009903329945699220681916416y := emulated.ValueOf[Base](params.Gmy[243])
	G56539106072908298546665520023773392506479484700019806659891398441363832832x := emulated.ValueOf[Base](params.Gmx[244])
	G56539106072908298546665520023773392506479484700019806659891398441363832832y := emulated.ValueOf[Base](params.Gmy[244])
	G113078212145816597093331040047546785012958969400039613319782796882727665664x := emulated.ValueOf[Base](params.Gmx[245])
	G113078212145816597093331040047546785012958969400039613319782796882727665664y := emulated.ValueOf[Base](params.Gmy[245])
	G226156424291633194186662080095093570025917938800079226639565593765455331328x := emulated.ValueOf[Base](params.Gmx[246])
	G226156424291633194186662080095093570025917938800079226639565593765455331328y := emulated.ValueOf[Base](params.Gmy[246])
	G452312848583266388373324160190187140051835877600158453279131187530910662656x := emulated.ValueOf[Base](params.Gmx[247])
	G452312848583266388373324160190187140051835877600158453279131187530910662656y := emulated.ValueOf[Base](params.Gmy[247])
	G904625697166532776746648320380374280103671755200316906558262375061821325312x := emulated.ValueOf[Base](params.Gmx[248])
	G904625697166532776746648320380374280103671755200316906558262375061821325312y := emulated.ValueOf[Base](params.Gmy[248])
	G1809251394333065553493296640760748560207343510400633813116524750123642650624x := emulated.ValueOf[Base](params.Gmx[249])
	G1809251394333065553493296640760748560207343510400633813116524750123642650624y := emulated.ValueOf[Base](params.Gmy[249])
	G3618502788666131106986593281521497120414687020801267626233049500247285301248x := emulated.ValueOf[Base](params.Gmx[250])
	G3618502788666131106986593281521497120414687020801267626233049500247285301248y := emulated.ValueOf[Base](params.Gmy[250])
	G7237005577332262213973186563042994240829374041602535252466099000494570602496x := emulated.ValueOf[Base](params.Gmx[251])
	G7237005577332262213973186563042994240829374041602535252466099000494570602496y := emulated.ValueOf[Base](params.Gmy[251])
	G14474011154664524427946373126085988481658748083205070504932198000989141204992x := emulated.ValueOf[Base](params.Gmx[252])
	G14474011154664524427946373126085988481658748083205070504932198000989141204992y := emulated.ValueOf[Base](params.Gmy[252])
	G28948022309329048855892746252171976963317496166410141009864396001978282409984x := emulated.ValueOf[Base](params.Gmx[253])
	G28948022309329048855892746252171976963317496166410141009864396001978282409984y := emulated.ValueOf[Base](params.Gmy[253])
	G57896044618658097711785492504343953926634992332820282019728792003956564819968x := emulated.ValueOf[Base](params.Gmx[254])
	G57896044618658097711785492504343953926634992332820282019728792003956564819968y := emulated.ValueOf[Base](params.Gmy[254])
	G115792089237316195423570985008687907853269984665640564039457584007913129639936x := emulated.ValueOf[Base](params.Gmx[255])
	G115792089237316195423570985008687907853269984665640564039457584007913129639936y := emulated.ValueOf[Base](params.Gmy[255])
	return &Curve[Base, Scalars]{
		params:    params,
		api:       api,
		baseApi:   ba,
		scalarApi: sa,
		g: AffinePoint[Base]{
			X: Gx,
			Y: Gy,
		},
		gm: [256]AffinePoint[Base]{
			{X: G3x, Y: G3y},
			{X: G4x, Y: G4y},
			{X: G8x, Y: G8y},
			{X: G16x, Y: G16y},
			{X: G32x, Y: G32y},
			{X: G64x, Y: G64y},
			{X: G128x, Y: G128y},
			{X: G256x, Y: G256y},
			{X: G512x, Y: G512y},
			{X: G1024x, Y: G1024y},
			{X: G2048x, Y: G2048y},
			{X: G4096x, Y: G4096y},
			{X: G8192x, Y: G8192y},
			{X: G16384x, Y: G16384y},
			{X: G32768x, Y: G32768y},
			{X: G65536x, Y: G65536y},
			{X: G131072x, Y: G131072y},
			{X: G262144x, Y: G262144y},
			{X: G524288x, Y: G524288y},
			{X: G1048576x, Y: G1048576y},
			{X: G2097152x, Y: G2097152y},
			{X: G4194304x, Y: G4194304y},
			{X: G8388608x, Y: G8388608y},
			{X: G16777216x, Y: G16777216y},
			{X: G33554432x, Y: G33554432y},
			{X: G67108864x, Y: G67108864y},
			{X: G134217728x, Y: G134217728y},
			{X: G268435456x, Y: G268435456y},
			{X: G536870912x, Y: G536870912y},
			{X: G1073741824x, Y: G1073741824y},
			{X: G2147483648x, Y: G2147483648y},
			{X: G4294967296x, Y: G4294967296y},
			{X: G8589934592x, Y: G8589934592y},
			{X: G17179869184x, Y: G17179869184y},
			{X: G34359738368x, Y: G34359738368y},
			{X: G68719476736x, Y: G68719476736y},
			{X: G137438953472x, Y: G137438953472y},
			{X: G274877906944x, Y: G274877906944y},
			{X: G549755813888x, Y: G549755813888y},
			{X: G1099511627776x, Y: G1099511627776y},
			{X: G2199023255552x, Y: G2199023255552y},
			{X: G4398046511104x, Y: G4398046511104y},
			{X: G8796093022208x, Y: G8796093022208y},
			{X: G17592186044416x, Y: G17592186044416y},
			{X: G35184372088832x, Y: G35184372088832y},
			{X: G70368744177664x, Y: G70368744177664y},
			{X: G140737488355328x, Y: G140737488355328y},
			{X: G281474976710656x, Y: G281474976710656y},
			{X: G562949953421312x, Y: G562949953421312y},
			{X: G1125899906842624x, Y: G1125899906842624y},
			{X: G2251799813685248x, Y: G2251799813685248y},
			{X: G4503599627370496x, Y: G4503599627370496y},
			{X: G9007199254740992x, Y: G9007199254740992y},
			{X: G18014398509481984x, Y: G18014398509481984y},
			{X: G36028797018963968x, Y: G36028797018963968y},
			{X: G72057594037927936x, Y: G72057594037927936y},
			{X: G144115188075855872x, Y: G144115188075855872y},
			{X: G288230376151711744x, Y: G288230376151711744y},
			{X: G576460752303423488x, Y: G576460752303423488y},
			{X: G1152921504606846976x, Y: G1152921504606846976y},
			{X: G2305843009213693952x, Y: G2305843009213693952y},
			{X: G4611686018427387904x, Y: G4611686018427387904y},
			{X: G9223372036854775808x, Y: G9223372036854775808y},
			{X: G18446744073709551616x, Y: G18446744073709551616y},
			{X: G36893488147419103232x, Y: G36893488147419103232y},
			{X: G73786976294838206464x, Y: G73786976294838206464y},
			{X: G147573952589676412928x, Y: G147573952589676412928y},
			{X: G295147905179352825856x, Y: G295147905179352825856y},
			{X: G590295810358705651712x, Y: G590295810358705651712y},
			{X: G1180591620717411303424x, Y: G1180591620717411303424y},
			{X: G2361183241434822606848x, Y: G2361183241434822606848y},
			{X: G4722366482869645213696x, Y: G4722366482869645213696y},
			{X: G9444732965739290427392x, Y: G9444732965739290427392y},
			{X: G18889465931478580854784x, Y: G18889465931478580854784y},
			{X: G37778931862957161709568x, Y: G37778931862957161709568y},
			{X: G75557863725914323419136x, Y: G75557863725914323419136y},
			{X: G151115727451828646838272x, Y: G151115727451828646838272y},
			{X: G302231454903657293676544x, Y: G302231454903657293676544y},
			{X: G604462909807314587353088x, Y: G604462909807314587353088y},
			{X: G1208925819614629174706176x, Y: G1208925819614629174706176y},
			{X: G2417851639229258349412352x, Y: G2417851639229258349412352y},
			{X: G4835703278458516698824704x, Y: G4835703278458516698824704y},
			{X: G9671406556917033397649408x, Y: G9671406556917033397649408y},
			{X: G19342813113834066795298816x, Y: G19342813113834066795298816y},
			{X: G38685626227668133590597632x, Y: G38685626227668133590597632y},
			{X: G77371252455336267181195264x, Y: G77371252455336267181195264y},
			{X: G154742504910672534362390528x, Y: G154742504910672534362390528y},
			{X: G309485009821345068724781056x, Y: G309485009821345068724781056y},
			{X: G618970019642690137449562112x, Y: G618970019642690137449562112y},
			{X: G1237940039285380274899124224x, Y: G1237940039285380274899124224y},
			{X: G2475880078570760549798248448x, Y: G2475880078570760549798248448y},
			{X: G4951760157141521099596496896x, Y: G4951760157141521099596496896y},
			{X: G9903520314283042199192993792x, Y: G9903520314283042199192993792y},
			{X: G19807040628566084398385987584x, Y: G19807040628566084398385987584y},
			{X: G39614081257132168796771975168x, Y: G39614081257132168796771975168y},
			{X: G79228162514264337593543950336x, Y: G79228162514264337593543950336y},
			{X: G158456325028528675187087900672x, Y: G158456325028528675187087900672y},
			{X: G316912650057057350374175801344x, Y: G316912650057057350374175801344y},
			{X: G633825300114114700748351602688x, Y: G633825300114114700748351602688y},
			{X: G1267650600228229401496703205376x, Y: G1267650600228229401496703205376y},
			{X: G2535301200456458802993406410752x, Y: G2535301200456458802993406410752y},
			{X: G5070602400912917605986812821504x, Y: G5070602400912917605986812821504y},
			{X: G10141204801825835211973625643008x, Y: G10141204801825835211973625643008y},
			{X: G20282409603651670423947251286016x, Y: G20282409603651670423947251286016y},
			{X: G40564819207303340847894502572032x, Y: G40564819207303340847894502572032y},
			{X: G81129638414606681695789005144064x, Y: G81129638414606681695789005144064y},
			{X: G162259276829213363391578010288128x, Y: G162259276829213363391578010288128y},
			{X: G324518553658426726783156020576256x, Y: G324518553658426726783156020576256y},
			{X: G649037107316853453566312041152512x, Y: G649037107316853453566312041152512y},
			{X: G1298074214633706907132624082305024x, Y: G1298074214633706907132624082305024y},
			{X: G2596148429267413814265248164610048x, Y: G2596148429267413814265248164610048y},
			{X: G5192296858534827628530496329220096x, Y: G5192296858534827628530496329220096y},
			{X: G10384593717069655257060992658440192x, Y: G10384593717069655257060992658440192y},
			{X: G20769187434139310514121985316880384x, Y: G20769187434139310514121985316880384y},
			{X: G41538374868278621028243970633760768x, Y: G41538374868278621028243970633760768y},
			{X: G83076749736557242056487941267521536x, Y: G83076749736557242056487941267521536y},
			{X: G166153499473114484112975882535043072x, Y: G166153499473114484112975882535043072y},
			{X: G332306998946228968225951765070086144x, Y: G332306998946228968225951765070086144y},
			{X: G664613997892457936451903530140172288x, Y: G664613997892457936451903530140172288y},
			{X: G1329227995784915872903807060280344576x, Y: G1329227995784915872903807060280344576y},
			{X: G2658455991569831745807614120560689152x, Y: G2658455991569831745807614120560689152y},
			{X: G5316911983139663491615228241121378304x, Y: G5316911983139663491615228241121378304y},
			{X: G10633823966279326983230456482242756608x, Y: G10633823966279326983230456482242756608y},
			{X: G21267647932558653966460912964485513216x, Y: G21267647932558653966460912964485513216y},
			{X: G42535295865117307932921825928971026432x, Y: G42535295865117307932921825928971026432y},
			{X: G85070591730234615865843651857942052864x, Y: G85070591730234615865843651857942052864y},
			{X: G170141183460469231731687303715884105728x, Y: G170141183460469231731687303715884105728y},
			{X: G340282366920938463463374607431768211456x, Y: G340282366920938463463374607431768211456y},
			{X: G680564733841876926926749214863536422912x, Y: G680564733841876926926749214863536422912y},
			{X: G1361129467683753853853498429727072845824x, Y: G1361129467683753853853498429727072845824y},
			{X: G2722258935367507707706996859454145691648x, Y: G2722258935367507707706996859454145691648y},
			{X: G5444517870735015415413993718908291383296x, Y: G5444517870735015415413993718908291383296y},
			{X: G10889035741470030830827987437816582766592x, Y: G10889035741470030830827987437816582766592y},
			{X: G21778071482940061661655974875633165533184x, Y: G21778071482940061661655974875633165533184y},
			{X: G43556142965880123323311949751266331066368x, Y: G43556142965880123323311949751266331066368y},
			{X: G87112285931760246646623899502532662132736x, Y: G87112285931760246646623899502532662132736y},
			{X: G174224571863520493293247799005065324265472x, Y: G174224571863520493293247799005065324265472y},
			{X: G348449143727040986586495598010130648530944x, Y: G348449143727040986586495598010130648530944y},
			{X: G696898287454081973172991196020261297061888x, Y: G696898287454081973172991196020261297061888y},
			{X: G1393796574908163946345982392040522594123776x, Y: G1393796574908163946345982392040522594123776y},
			{X: G2787593149816327892691964784081045188247552x, Y: G2787593149816327892691964784081045188247552y},
			{X: G5575186299632655785383929568162090376495104x, Y: G5575186299632655785383929568162090376495104y},
			{X: G11150372599265311570767859136324180752990208x, Y: G11150372599265311570767859136324180752990208y},
			{X: G22300745198530623141535718272648361505980416x, Y: G22300745198530623141535718272648361505980416y},
			{X: G44601490397061246283071436545296723011960832x, Y: G44601490397061246283071436545296723011960832y},
			{X: G89202980794122492566142873090593446023921664x, Y: G89202980794122492566142873090593446023921664y},
			{X: G178405961588244985132285746181186892047843328x, Y: G178405961588244985132285746181186892047843328y},
			{X: G356811923176489970264571492362373784095686656x, Y: G356811923176489970264571492362373784095686656y},
			{X: G713623846352979940529142984724747568191373312x, Y: G713623846352979940529142984724747568191373312y},
			{X: G1427247692705959881058285969449495136382746624x, Y: G1427247692705959881058285969449495136382746624y},
			{X: G2854495385411919762116571938898990272765493248x, Y: G2854495385411919762116571938898990272765493248y},
			{X: G5708990770823839524233143877797980545530986496x, Y: G5708990770823839524233143877797980545530986496y},
			{X: G11417981541647679048466287755595961091061972992x, Y: G11417981541647679048466287755595961091061972992y},
			{X: G22835963083295358096932575511191922182123945984x, Y: G22835963083295358096932575511191922182123945984y},
			{X: G45671926166590716193865151022383844364247891968x, Y: G45671926166590716193865151022383844364247891968y},
			{X: G91343852333181432387730302044767688728495783936x, Y: G91343852333181432387730302044767688728495783936y},
			{X: G182687704666362864775460604089535377456991567872x, Y: G182687704666362864775460604089535377456991567872y},
			{X: G365375409332725729550921208179070754913983135744x, Y: G365375409332725729550921208179070754913983135744y},
			{X: G730750818665451459101842416358141509827966271488x, Y: G730750818665451459101842416358141509827966271488y},
			{X: G1461501637330902918203684832716283019655932542976x, Y: G1461501637330902918203684832716283019655932542976y},
			{X: G2923003274661805836407369665432566039311865085952x, Y: G2923003274661805836407369665432566039311865085952y},
			{X: G5846006549323611672814739330865132078623730171904x, Y: G5846006549323611672814739330865132078623730171904y},
			{X: G11692013098647223345629478661730264157247460343808x, Y: G11692013098647223345629478661730264157247460343808y},
			{X: G23384026197294446691258957323460528314494920687616x, Y: G23384026197294446691258957323460528314494920687616y},
			{X: G46768052394588893382517914646921056628989841375232x, Y: G46768052394588893382517914646921056628989841375232y},
			{X: G93536104789177786765035829293842113257979682750464x, Y: G93536104789177786765035829293842113257979682750464y},
			{X: G187072209578355573530071658587684226515959365500928x, Y: G187072209578355573530071658587684226515959365500928y},
			{X: G374144419156711147060143317175368453031918731001856x, Y: G374144419156711147060143317175368453031918731001856y},
			{X: G748288838313422294120286634350736906063837462003712x, Y: G748288838313422294120286634350736906063837462003712y},
			{X: G1496577676626844588240573268701473812127674924007424x, Y: G1496577676626844588240573268701473812127674924007424y},
			{X: G2993155353253689176481146537402947624255349848014848x, Y: G2993155353253689176481146537402947624255349848014848y},
			{X: G5986310706507378352962293074805895248510699696029696x, Y: G5986310706507378352962293074805895248510699696029696y},
			{X: G11972621413014756705924586149611790497021399392059392x, Y: G11972621413014756705924586149611790497021399392059392y},
			{X: G23945242826029513411849172299223580994042798784118784x, Y: G23945242826029513411849172299223580994042798784118784y},
			{X: G47890485652059026823698344598447161988085597568237568x, Y: G47890485652059026823698344598447161988085597568237568y},
			{X: G95780971304118053647396689196894323976171195136475136x, Y: G95780971304118053647396689196894323976171195136475136y},
			{X: G191561942608236107294793378393788647952342390272950272x, Y: G191561942608236107294793378393788647952342390272950272y},
			{X: G383123885216472214589586756787577295904684780545900544x, Y: G383123885216472214589586756787577295904684780545900544y},
			{X: G766247770432944429179173513575154591809369561091801088x, Y: G766247770432944429179173513575154591809369561091801088y},
			{X: G1532495540865888858358347027150309183618739122183602176x, Y: G1532495540865888858358347027150309183618739122183602176y},
			{X: G3064991081731777716716694054300618367237478244367204352x, Y: G3064991081731777716716694054300618367237478244367204352y},
			{X: G6129982163463555433433388108601236734474956488734408704x, Y: G6129982163463555433433388108601236734474956488734408704y},
			{X: G12259964326927110866866776217202473468949912977468817408x, Y: G12259964326927110866866776217202473468949912977468817408y},
			{X: G24519928653854221733733552434404946937899825954937634816x, Y: G24519928653854221733733552434404946937899825954937634816y},
			{X: G49039857307708443467467104868809893875799651909875269632x, Y: G49039857307708443467467104868809893875799651909875269632y},
			{X: G98079714615416886934934209737619787751599303819750539264x, Y: G98079714615416886934934209737619787751599303819750539264y},
			{X: G196159429230833773869868419475239575503198607639501078528x, Y: G196159429230833773869868419475239575503198607639501078528y},
			{X: G392318858461667547739736838950479151006397215279002157056x, Y: G392318858461667547739736838950479151006397215279002157056y},
			{X: G784637716923335095479473677900958302012794430558004314112x, Y: G784637716923335095479473677900958302012794430558004314112y},
			{X: G1569275433846670190958947355801916604025588861116008628224x, Y: G1569275433846670190958947355801916604025588861116008628224y},
			{X: G3138550867693340381917894711603833208051177722232017256448x, Y: G3138550867693340381917894711603833208051177722232017256448y},
			{X: G6277101735386680763835789423207666416102355444464034512896x, Y: G6277101735386680763835789423207666416102355444464034512896y},
			{X: G12554203470773361527671578846415332832204710888928069025792x, Y: G12554203470773361527671578846415332832204710888928069025792y},
			{X: G25108406941546723055343157692830665664409421777856138051584x, Y: G25108406941546723055343157692830665664409421777856138051584y},
			{X: G50216813883093446110686315385661331328818843555712276103168x, Y: G50216813883093446110686315385661331328818843555712276103168y},
			{X: G100433627766186892221372630771322662657637687111424552206336x, Y: G100433627766186892221372630771322662657637687111424552206336y},
			{X: G200867255532373784442745261542645325315275374222849104412672x, Y: G200867255532373784442745261542645325315275374222849104412672y},
			{X: G401734511064747568885490523085290650630550748445698208825344x, Y: G401734511064747568885490523085290650630550748445698208825344y},
			{X: G803469022129495137770981046170581301261101496891396417650688x, Y: G803469022129495137770981046170581301261101496891396417650688y},
			{X: G1606938044258990275541962092341162602522202993782792835301376x, Y: G1606938044258990275541962092341162602522202993782792835301376y},
			{X: G3213876088517980551083924184682325205044405987565585670602752x, Y: G3213876088517980551083924184682325205044405987565585670602752y},
			{X: G6427752177035961102167848369364650410088811975131171341205504x, Y: G6427752177035961102167848369364650410088811975131171341205504y},
			{X: G12855504354071922204335696738729300820177623950262342682411008x, Y: G12855504354071922204335696738729300820177623950262342682411008y},
			{X: G25711008708143844408671393477458601640355247900524685364822016x, Y: G25711008708143844408671393477458601640355247900524685364822016y},
			{X: G51422017416287688817342786954917203280710495801049370729644032x, Y: G51422017416287688817342786954917203280710495801049370729644032y},
			{X: G102844034832575377634685573909834406561420991602098741459288064x, Y: G102844034832575377634685573909834406561420991602098741459288064y},
			{X: G205688069665150755269371147819668813122841983204197482918576128x, Y: G205688069665150755269371147819668813122841983204197482918576128y},
			{X: G411376139330301510538742295639337626245683966408394965837152256x, Y: G411376139330301510538742295639337626245683966408394965837152256y},
			{X: G822752278660603021077484591278675252491367932816789931674304512x, Y: G822752278660603021077484591278675252491367932816789931674304512y},
			{X: G1645504557321206042154969182557350504982735865633579863348609024x, Y: G1645504557321206042154969182557350504982735865633579863348609024y},
			{X: G3291009114642412084309938365114701009965471731267159726697218048x, Y: G3291009114642412084309938365114701009965471731267159726697218048y},
			{X: G6582018229284824168619876730229402019930943462534319453394436096x, Y: G6582018229284824168619876730229402019930943462534319453394436096y},
			{X: G13164036458569648337239753460458804039861886925068638906788872192x, Y: G13164036458569648337239753460458804039861886925068638906788872192y},
			{X: G26328072917139296674479506920917608079723773850137277813577744384x, Y: G26328072917139296674479506920917608079723773850137277813577744384y},
			{X: G52656145834278593348959013841835216159447547700274555627155488768x, Y: G52656145834278593348959013841835216159447547700274555627155488768y},
			{X: G105312291668557186697918027683670432318895095400549111254310977536x, Y: G105312291668557186697918027683670432318895095400549111254310977536y},
			{X: G210624583337114373395836055367340864637790190801098222508621955072x, Y: G210624583337114373395836055367340864637790190801098222508621955072y},
			{X: G421249166674228746791672110734681729275580381602196445017243910144x, Y: G421249166674228746791672110734681729275580381602196445017243910144y},
			{X: G842498333348457493583344221469363458551160763204392890034487820288x, Y: G842498333348457493583344221469363458551160763204392890034487820288y},
			{X: G1684996666696914987166688442938726917102321526408785780068975640576x, Y: G1684996666696914987166688442938726917102321526408785780068975640576y},
			{X: G3369993333393829974333376885877453834204643052817571560137951281152x, Y: G3369993333393829974333376885877453834204643052817571560137951281152y},
			{X: G6739986666787659948666753771754907668409286105635143120275902562304x, Y: G6739986666787659948666753771754907668409286105635143120275902562304y},
			{X: G13479973333575319897333507543509815336818572211270286240551805124608x, Y: G13479973333575319897333507543509815336818572211270286240551805124608y},
			{X: G26959946667150639794667015087019630673637144422540572481103610249216x, Y: G26959946667150639794667015087019630673637144422540572481103610249216y},
			{X: G53919893334301279589334030174039261347274288845081144962207220498432x, Y: G53919893334301279589334030174039261347274288845081144962207220498432y},
			{X: G107839786668602559178668060348078522694548577690162289924414440996864x, Y: G107839786668602559178668060348078522694548577690162289924414440996864y},
			{X: G215679573337205118357336120696157045389097155380324579848828881993728x, Y: G215679573337205118357336120696157045389097155380324579848828881993728y},
			{X: G431359146674410236714672241392314090778194310760649159697657763987456x, Y: G431359146674410236714672241392314090778194310760649159697657763987456y},
			{X: G862718293348820473429344482784628181556388621521298319395315527974912x, Y: G862718293348820473429344482784628181556388621521298319395315527974912y},
			{X: G1725436586697640946858688965569256363112777243042596638790631055949824x, Y: G1725436586697640946858688965569256363112777243042596638790631055949824y},
			{X: G3450873173395281893717377931138512726225554486085193277581262111899648x, Y: G3450873173395281893717377931138512726225554486085193277581262111899648y},
			{X: G6901746346790563787434755862277025452451108972170386555162524223799296x, Y: G6901746346790563787434755862277025452451108972170386555162524223799296y},
			{X: G13803492693581127574869511724554050904902217944340773110325048447598592x, Y: G13803492693581127574869511724554050904902217944340773110325048447598592y},
			{X: G27606985387162255149739023449108101809804435888681546220650096895197184x, Y: G27606985387162255149739023449108101809804435888681546220650096895197184y},
			{X: G55213970774324510299478046898216203619608871777363092441300193790394368x, Y: G55213970774324510299478046898216203619608871777363092441300193790394368y},
			{X: G110427941548649020598956093796432407239217743554726184882600387580788736x, Y: G110427941548649020598956093796432407239217743554726184882600387580788736y},
			{X: G220855883097298041197912187592864814478435487109452369765200775161577472x, Y: G220855883097298041197912187592864814478435487109452369765200775161577472y},
			{X: G441711766194596082395824375185729628956870974218904739530401550323154944x, Y: G441711766194596082395824375185729628956870974218904739530401550323154944y},
			{X: G883423532389192164791648750371459257913741948437809479060803100646309888x, Y: G883423532389192164791648750371459257913741948437809479060803100646309888y},
			{X: G1766847064778384329583297500742918515827483896875618958121606201292619776x, Y: G1766847064778384329583297500742918515827483896875618958121606201292619776y},
			{X: G3533694129556768659166595001485837031654967793751237916243212402585239552x, Y: G3533694129556768659166595001485837031654967793751237916243212402585239552y},
			{X: G7067388259113537318333190002971674063309935587502475832486424805170479104x, Y: G7067388259113537318333190002971674063309935587502475832486424805170479104y},
			{X: G14134776518227074636666380005943348126619871175004951664972849610340958208x, Y: G14134776518227074636666380005943348126619871175004951664972849610340958208y},
			{X: G28269553036454149273332760011886696253239742350009903329945699220681916416x, Y: G28269553036454149273332760011886696253239742350009903329945699220681916416y},
			{X: G56539106072908298546665520023773392506479484700019806659891398441363832832x, Y: G56539106072908298546665520023773392506479484700019806659891398441363832832y},
			{X: G113078212145816597093331040047546785012958969400039613319782796882727665664x, Y: G113078212145816597093331040047546785012958969400039613319782796882727665664y},
			{X: G226156424291633194186662080095093570025917938800079226639565593765455331328x, Y: G226156424291633194186662080095093570025917938800079226639565593765455331328y},
			{X: G452312848583266388373324160190187140051835877600158453279131187530910662656x, Y: G452312848583266388373324160190187140051835877600158453279131187530910662656y},
			{X: G904625697166532776746648320380374280103671755200316906558262375061821325312x, Y: G904625697166532776746648320380374280103671755200316906558262375061821325312y},
			{X: G1809251394333065553493296640760748560207343510400633813116524750123642650624x, Y: G1809251394333065553493296640760748560207343510400633813116524750123642650624y},
			{X: G3618502788666131106986593281521497120414687020801267626233049500247285301248x, Y: G3618502788666131106986593281521497120414687020801267626233049500247285301248y},
			{X: G7237005577332262213973186563042994240829374041602535252466099000494570602496x, Y: G7237005577332262213973186563042994240829374041602535252466099000494570602496y},
			{X: G14474011154664524427946373126085988481658748083205070504932198000989141204992x, Y: G14474011154664524427946373126085988481658748083205070504932198000989141204992y},
			{X: G28948022309329048855892746252171976963317496166410141009864396001978282409984x, Y: G28948022309329048855892746252171976963317496166410141009864396001978282409984y},
			{X: G57896044618658097711785492504343953926634992332820282019728792003956564819968x, Y: G57896044618658097711785492504343953926634992332820282019728792003956564819968y},
			{X: G115792089237316195423570985008687907853269984665640564039457584007913129639936x, Y: G115792089237316195423570985008687907853269984665640564039457584007913129639936y},
		},

		a:    emulated.ValueOf[Base](params.A),
		addA: params.A.Cmp(big.NewInt(0)) != 0,
	}, nil
}

// Curve is an initialised curve which allows performing group operations.
type Curve[Base, Scalars emulated.FieldParams] struct {
	// params is the parameters of the curve
	params CurveParams
	// api is the native api, we construct it ourselves to be sure
	api frontend.API
	// baseApi is the api for point operations
	baseApi *emulated.Field[Base]
	// scalarApi is the api for scalar operations
	scalarApi *emulated.Field[Scalars]

	// g is the generator (base point) of the curve.
	g AffinePoint[Base]

	// gm are the pre-computed multiples the generator (base point) of the curve.
	gm [256]AffinePoint[Base]

	a    emulated.Element[Base]
	addA bool
}

// Generator returns the base point of the curve. The method does not copy and
// modifying the returned element leads to undefined behaviour!
func (c *Curve[B, S]) Generator() *AffinePoint[B] {
	return &c.g
}

// GeneratorMultiples returns the pre-computed multiples of the base point of the curve. The method does not copy and
// modifying the returned element leads to undefined behaviour!
func (c *Curve[B, S]) GeneratorMultiples() [256]AffinePoint[B] {
	return c.gm
}

// AffinePoint represents a point on the elliptic curve. We do not check that
// the point is actually on the curve.
type AffinePoint[Base emulated.FieldParams] struct {
	X, Y emulated.Element[Base]
}

// Neg returns an inverse of p. It doesn't modify p.
func (c *Curve[B, S]) Neg(p *AffinePoint[B]) *AffinePoint[B] {
	return &AffinePoint[B]{
		X: p.X,
		Y: *c.baseApi.Neg(&p.Y),
	}
}

// AssertIsEqual asserts that p and q are the same point.
func (c *Curve[B, S]) AssertIsEqual(p, q *AffinePoint[B]) {
	c.baseApi.AssertIsEqual(&p.X, &q.X)
	c.baseApi.AssertIsEqual(&p.Y, &q.Y)
}

// Add adds p and q and returns it. It doesn't modify p nor q.
func (c *Curve[B, S]) Add(p, q *AffinePoint[B]) *AffinePoint[B] {
	// compute λ = (q.y-p.y)/(q.x-p.x)
	qypy := c.baseApi.Sub(&q.Y, &p.Y)
	qxpx := c.baseApi.Sub(&q.X, &p.X)
	λ := c.baseApi.Div(qypy, qxpx)

	// xr = λ²-p.x-q.x
	λλ := c.baseApi.MulMod(λ, λ)
	qxpx = c.baseApi.Add(&p.X, &q.X)
	xr := c.baseApi.Sub(λλ, qxpx)

	// p.y = λ(p.x-r.x) - p.y
	pxrx := c.baseApi.Sub(&p.X, xr)
	λpxrx := c.baseApi.MulMod(λ, pxrx)
	yr := c.baseApi.Sub(λpxrx, &p.Y)

	return &AffinePoint[B]{
		X: *c.baseApi.Reduce(xr),
		Y: *c.baseApi.Reduce(yr),
	}
}

// Double doubles p and return it. It doesn't modify p.
func (c *Curve[B, S]) Double(p *AffinePoint[B]) *AffinePoint[B] {

	// compute λ = (3p.x²+a)/2*p.y, here we assume a=0 (j invariant 0 curve)
	xx3a := c.baseApi.MulMod(&p.X, &p.X)
	xx3a = c.baseApi.MulConst(xx3a, big.NewInt(3))
	if c.addA {
		xx3a = c.baseApi.Add(xx3a, &c.a)
	}
	y2 := c.baseApi.MulConst(&p.Y, big.NewInt(2))
	λ := c.baseApi.Div(xx3a, y2)

	// xr = λ²-2p.x
	x2 := c.baseApi.MulConst(&p.X, big.NewInt(2))
	λλ := c.baseApi.MulMod(λ, λ)
	xr := c.baseApi.Sub(λλ, x2)

	// yr = λ(p-xr) - p.y
	pxrx := c.baseApi.Sub(&p.X, xr)
	λpxrx := c.baseApi.MulMod(λ, pxrx)
	yr := c.baseApi.Sub(λpxrx, &p.Y)

	return &AffinePoint[B]{
		X: *c.baseApi.Reduce(xr),
		Y: *c.baseApi.Reduce(yr),
	}
}

// Triple triples p and return it.
// It follows [ELM03]: https://arxiv.org/pdf/math/0208038.pdf, 3.1
// Saves the computation of the y coordinate of 2p as it is used only in the computation of λ2,
// which can be computed as λ2 = -λ1-2*p.y/(x2-p.x) instead.
// It doesn't modify p.
func (c *Curve[B, S]) Triple(p *AffinePoint[B]) *AffinePoint[B] {

	// compute λ1 = (3p.x²+a)/2p.y, here we assume a=0 (j invariant 0 curve)
	xx := c.baseApi.MulMod(&p.X, &p.X)
	xx = c.baseApi.MulConst(xx, big.NewInt(3))
	if c.addA {
		xx = c.baseApi.Add(xx, &c.a)
	}
	y2 := c.baseApi.MulConst(&p.Y, big.NewInt(2))
	λ1 := c.baseApi.Div(xx, y2)

	// xr = λ1²-2p.x
	x2 := c.baseApi.MulConst(&p.X, big.NewInt(2))
	λ1λ1 := c.baseApi.MulMod(λ1, λ1)
	x2 = c.baseApi.Sub(λ1λ1, x2)

	// ommit y2 computation, and
	// compute λ2 = 2p.y/(x2 − p.x) − λ1.
	x1x2 := c.baseApi.Sub(&p.X, x2)
	λ2 := c.baseApi.Div(y2, x1x2)
	λ2 = c.baseApi.Sub(λ2, λ1)

	// xr = λ²-p.x-x2
	λ2λ2 := c.baseApi.MulMod(λ2, λ2)
	qxrx := c.baseApi.Add(x2, &p.X)
	xr := c.baseApi.Sub(λ2λ2, qxrx)

	// yr = λ(p.x-xr) - p.y
	pxrx := c.baseApi.Sub(&p.X, xr)
	λ2pxrx := c.baseApi.MulMod(λ2, pxrx)
	yr := c.baseApi.Sub(λ2pxrx, &p.Y)

	return &AffinePoint[B]{
		X: *c.baseApi.Reduce(xr),
		Y: *c.baseApi.Reduce(yr),
	}
}

// DoubleAndAdd computes 2p+q as (p+q)+p. It follows [ELM03]: https://arxiv.org/pdf/math/0208038.pdf, 3.1
// Saves the computation of the y coordinate of p+q as it is used only in the computation of λ2,
// which can be computed as λ2 = -λ1-2*p.y/(x2-p.x) instead.
// It doesn't modify p nor q.
func (c *Curve[B, S]) DoubleAndAdd(p, q *AffinePoint[B]) *AffinePoint[B] {

	// compute λ1 = (q.y-p.y)/(q.x-p.x)
	yqyp := c.baseApi.Sub(&q.Y, &p.Y)
	xqxp := c.baseApi.Sub(&q.X, &p.X)
	λ1 := c.baseApi.Div(yqyp, xqxp)

	// compute x2 = λ1²-p.x-q.x
	λ1λ1 := c.baseApi.MulMod(λ1, λ1)
	xqxp = c.baseApi.Add(&p.X, &q.X)
	x2 := c.baseApi.Sub(λ1λ1, xqxp)

	// ommit y2 computation
	// compute λ2 = -λ1-2*p.y/(x2-p.x)
	ypyp := c.baseApi.Add(&p.Y, &p.Y)
	x2xp := c.baseApi.Sub(x2, &p.X)
	λ2 := c.baseApi.Div(ypyp, x2xp)
	λ2 = c.baseApi.Add(λ1, λ2)
	λ2 = c.baseApi.Neg(λ2)

	// compute x3 =λ2²-p.x-x3
	λ2λ2 := c.baseApi.MulMod(λ2, λ2)
	x3 := c.baseApi.Sub(λ2λ2, &p.X)
	x3 = c.baseApi.Sub(x3, x2)

	// compute y3 = λ2*(p.x - x3)-p.y
	y3 := c.baseApi.Sub(&p.X, x3)
	y3 = c.baseApi.Mul(λ2, y3)
	y3 = c.baseApi.Sub(y3, &p.Y)

	return &AffinePoint[B]{
		X: *c.baseApi.Reduce(x3),
		Y: *c.baseApi.Reduce(y3),
	}

}

// Select selects between p and q given the selector b. If b == 0, then returns
// p and q otherwise.
func (c *Curve[B, S]) Select(b frontend.Variable, p, q *AffinePoint[B]) *AffinePoint[B] {
	x := c.baseApi.Select(b, &p.X, &q.X)
	y := c.baseApi.Select(b, &p.Y, &q.Y)
	return &AffinePoint[B]{
		X: *x,
		Y: *y,
	}
}

// Lookup2 performs a 2-bit lookup between i0, i1, i2, i3 based on bits b0
// and b1. Returns i0 if b0=b1=0, i1 if b0=1 and b1=0, i2 if b0=0 and b1=1
// and i3 if b0=b1=1.
func (c *Curve[B, S]) Lookup2(b0, b1 frontend.Variable, i0, i1, i2, i3 *AffinePoint[B]) *AffinePoint[B] {
	x := c.baseApi.Lookup2(b0, b1, &i0.X, &i1.X, &i2.X, &i3.X)
	y := c.baseApi.Lookup2(b0, b1, &i0.Y, &i1.Y, &i2.Y, &i3.Y)
	return &AffinePoint[B]{
		X: *x,
		Y: *y,
	}
}

// ScalarMul computes s * p and returns it. It doesn't modify p nor s.
func (c *Curve[B, S]) ScalarMul(p *AffinePoint[B], s *emulated.Element[S]) *AffinePoint[B] {
	var st S
	sr := c.scalarApi.Reduce(s)
	sBits := c.scalarApi.ToBits(sr)
	n := st.Modulus().BitLen()

	// i = 1
	tmp := c.Triple(p)
	res := c.Select(sBits[1], tmp, p)
	acc := c.Add(tmp, p)

	for i := 2; i <= n-3; i++ {
		tmp := c.Add(res, acc)
		res = c.Select(sBits[i], tmp, res)
		acc = c.Double(acc)
	}

	// i = n-2
	tmp = c.Add(res, acc)
	res = c.Select(sBits[n-2], tmp, res)

	// i = n-1
	tmp = c.DoubleAndAdd(acc, res)
	res = c.Select(sBits[n-1], tmp, res)

	// i = 0
	tmp = c.Add(res, c.Neg(p))
	res = c.Select(sBits[0], res, tmp)

	return res
}

// ScalarMulBase computes s * g and returns it, where g is the fixed generator. It doesn't modify s.
func (c *Curve[B, S]) ScalarMulBase(s *emulated.Element[S]) *AffinePoint[B] {
	g := c.Generator()
	gm := c.GeneratorMultiples()

	var st S
	sr := c.scalarApi.Reduce(s)
	sBits := c.scalarApi.ToBits(sr)

	// i = 1, 2
	// gm[0] = 3g, gm[0] = 5g, gm[0] = 7g
	res := c.Lookup2(sBits[1], sBits[2], g, &gm[0], &gm[1], &gm[2])

	for i := 3; i < st.Modulus().BitLen(); i++ {
		// gm[i] = [2^i]g
		tmp := c.Add(res, &gm[i])
		res = c.Select(sBits[i], tmp, res)
	}

	// i =0
	tmp := c.Add(res, c.Neg(g))
	res = c.Select(sBits[0], res, tmp)

	return res
}
